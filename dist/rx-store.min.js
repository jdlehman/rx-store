!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["rx-store"]=r():t["rx-store"]=r()}(this,function(){return function(t){function r(i){if(e[i])return e[i].exports;var s=e[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){"use strict";function i(t,r){var e=new s.Subject,i=e.startWith(r).scan(t);return{action$:e,state$:i,dispatch:function(t){return e.next(t)},subscribe:function(){return i.subscribe.apply(i,arguments)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.createRxStore=i;var s=e(9)},function(t,r,e){"use strict";var i=e(13),s=e(14),n=e(5),o=e(16),c=e(4),u=e(12),b=function(){function t(t){this.isUnsubscribed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,r=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var e=this,b=e._unsubscribe,h=e._subscriptions;if(this._subscriptions=null,n.isFunction(b)){var p=o.tryCatch(b).call(this);p===c.errorObject&&(r=!0,(t=t||[]).push(c.errorObject.e))}if(i.isArray(h))for(var f=-1,a=h.length;++f<a;){var l=h[f];if(s.isObject(l)){var p=o.tryCatch(l.unsubscribe).call(l);if(p===c.errorObject){r=!0,t=t||[];var y=c.errorObject.e;y instanceof u.UnsubscriptionError?t=t.concat(y.errors):t.push(y)}}}if(r)throw new u.UnsubscriptionError(t)}},t.prototype.add=function(r){if(r&&r!==this&&r!==t.EMPTY){var e=r;switch(typeof r){case"function":e=new t(r);case"object":if(e.isUnsubscribed||"function"!=typeof e.unsubscribe)break;this.isUnsubscribed?e.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(e);break;default:throw new Error("Unrecognized teardown "+r+" added to Subscription.")}return e}},t.prototype.remove=function(r){if(null!=r&&r!==this&&r!==t.EMPTY){var e=this._subscriptions;if(e){var i=e.indexOf(r);-1!==i&&e.splice(i,1)}}},t.EMPTY=function(t){return t.isUnsubscribed=!0,t}(new t),t}();r.Subscription=b},function(t,r,e){"use strict";var i=e(6),s=i.root.Symbol;r.$$rxSubscriber="function"==typeof s&&"function"==typeof s["for"]?s["for"]("rxSubscriber"):"@@rxSubscriber"},function(t,r,e){"use strict";var i=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},s=e(5),n=e(1),o=e(8),c=e(2),u=function(t){function r(e,i,s){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.empty;break;case 1:if(!e){this.destination=o.empty;break}if("object"==typeof e){e instanceof r?(this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,e,i,s)}}return i(r,t),r.prototype[c.$$rxSubscriber]=function(){return this},r.create=function(t,e,i){var s=new r(t,e,i);return s.syncErrorThrowable=!1,s},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r}(n.Subscription);r.Subscriber=u;var b=function(t){function r(r,e,i,n){t.call(this),this._parent=r;var o,c=this;s.isFunction(e)?o=e:e&&(c=e,o=e.next,i=e.error,n=e.complete,s.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)),this._context=c,this._next=o,this._error=i,this._complete=n}return i(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parent;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parent;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(e){throw this.unsubscribe(),e}},r.prototype.__tryOrSetError=function(t,r,e){try{r.call(this._context,e)}catch(i){return t.syncErrorValue=i,t.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},r}(u)},function(t,r){"use strict";r.errorObject={e:{}}},function(t,r){"use strict";function e(t){return"function"==typeof t}r.isFunction=e},function(t,r,e){(function(t,e){"use strict";var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};r.root=i[typeof self]&&self||i[typeof window]&&window;var s=(i[typeof r]&&r&&!r.nodeType&&r,i[typeof t]&&t&&!t.nodeType&&t,i[typeof e]&&e);!s||s.global!==s&&s.window!==s||(r.root=s)}).call(r,e(19)(t),function(){return this}())},function(t,r,e){"use strict";var i=e(6),s=e(15),n=e(17),o=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var i=this.operator,n=s.toSubscriber(t,r,e);if(i?i.call(n,this):n.add(this._subscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype.forEach=function(t,r){var e=this;if(r||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?r=i.root.Rx.config.Promise:i.root.Promise&&(r=i.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(r,i){var s=e.subscribe(function(r){if(s)try{t(r)}catch(e){i(e),s.unsubscribe()}else t(r)},i,r)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[n]=function(){return this},t.create=function(r){return new t(r)},t}();r.Observable=o},function(t,r){"use strict";r.empty={isUnsubscribed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,r,e){"use strict";var i=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},s=e(7),n=e(3),o=e(1),c=e(11),u=e(10),b=e(2),h=function(t){function r(r){t.call(this,r),this.destination=r}return i(r,t),r}(n.Subscriber);r.SubjectSubscriber=h;var p=function(t){function r(){t.call(this),this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return i(r,t),r.prototype[b.$$rxSubscriber]=function(){return new h(this)},r.prototype.lift=function(t){var r=new f(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.isUnsubscribed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var r=this.observers,e=r.length,i=r.slice(),s=0;e>s;s++)i[s].next(t)},r.prototype.error=function(t){if(this.isUnsubscribed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,i=r.slice(),s=0;e>s;s++)i[s].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.isUnsubscribed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),i=0;r>i;i++)e[i].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.isUnsubscribed=!0,this.observers=null},r.prototype._subscribe=function(t){if(this.isUnsubscribed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.isStopped?(t.complete(),o.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},r.prototype.asObservable=function(){var t=new s.Observable;return t.source=this,t},r.create=function(t,r){return new f(t,r)},r}(s.Observable);r.Subject=p;var f=function(t){function r(r,e){t.call(this),this.destination=r,this.source=e}return i(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){var r=this.source;return r?this.source.subscribe(t):o.Subscription.EMPTY},r}(p);r.AnonymousSubject=f},function(t,r,e){"use strict";var i=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},s=e(1),n=function(t){function r(r,e){t.call(this),this.subject=r,this.subscriber=e,this.isUnsubscribed=!1}return i(r,t),r.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.isUnsubscribed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(s.Subscription);r.SubjectSubscription=n},function(t,r){"use strict";var e=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},i=function(t){function r(){t.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return e(r,t),r}(Error);r.ObjectUnsubscribedError=i},function(t,r){"use strict";var e=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},i=function(t){function r(r){t.call(this),this.errors=r,this.name="UnsubscriptionError",this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(t,r){return r+1+") "+t.toString()}).join("\n"):""}return e(r,t),r}(Error);r.UnsubscriptionError=i},function(t,r){"use strict";r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,r){"use strict";function e(t){return null!=t&&"object"==typeof t}r.isObject=e},function(t,r,e){"use strict";function i(t,r,e){if(t){if(t instanceof s.Subscriber)return t;if(t[n.$$rxSubscriber])return t[n.$$rxSubscriber]()}return t||r||e?new s.Subscriber(t,r,e):new s.Subscriber}var s=e(3),n=e(2);r.toSubscriber=i},function(t,r,e){"use strict";function i(){try{return n.apply(this,arguments)}catch(t){return o.errorObject.e=t,o.errorObject}}function s(t){return n=t,i}var n,o=e(4);r.tryCatch=s},function(t,r,e){(function(r){"use strict";t.exports=e(18)(r||window||this)}).call(r,function(){return this}())},function(t,r){"use strict";t.exports=function(t){var r,e=t.Symbol;return"function"==typeof e?e.observable?r=e.observable:(r=e("observable"),e.observable=r):r="@@observable",r}},function(t,r){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])});